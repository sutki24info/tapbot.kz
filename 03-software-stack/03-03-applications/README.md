---
title: 03.03 - Приложения
---

**Последнее обновление:** 10 июля 2025

## 03\.03.01 - Directus (CMS/API)

```yaml
Directus 10.10:
  Сервер: Второй (178.236.17.186)
  Назначение: Headless CMS + автоматическое REST/GraphQL API
  Домен: dir.tapbot.kz
  Функции:
    - Управление контентом через веб-интерфейс
    - Автоматическое API для всех таблиц PostgreSQL
    - Управление пользователями и ролями
    - Медиа-библиотека для файлов
  Интеграции: n8n workflows, мобильные приложения
  Ресурсы: ~15% CPU, ~400MB RAM
```

### **Роль в архитектуре:**

-  **Центральный API gateway** для всех приложений

-  **Веб-интерфейс** для управления данными команды

-  **Автоматическая генерация API** из структуры БД

-  **Права доступа** и ролевая модель

## 03\.03.02 - n8n (автоматизация)

```yaml
n8n 1.93.0:
  Сервер: Первый (93.189.229.59)
  Назначение: Low-code платформа автоматизации
  Домен: n8n.tapbot.kz  
  Ресурсы: ~15% CPU, ~500MB RAM
  Персистентность: n8n_data volume
  Интеграции:
    - PostgreSQL (бизнес-логика)
    - Directus API (управление контентом)
    - Qdrant (векторный поиск)
    - OpenAI/Anthropic (AI модели)
    - Telegram Bot API
```

### **Основные workflow:**

-  **Telegram-боты:** Обработка сообщений пользователей

-  **AI-анализ:** Интеграция с векторным поиском и LLM

-  **Бизнес-логика:** Поиск такси, бронирование квартир

-  **Уведомления:** Email, SMS, Telegram рассылки

## 03\.03.03 - Интеграции и API

### **Ключевые интеграции:**

1. **n8n --> Directus API** - управление контентом и пользователями

2. **n8n --> Qdrant** - векторный поиск для AI-ответов

3. **n8n --> PostgreSQL** - бизнес-логика и аналитика

4. **Directus --> PostgreSQL** - основное хранилище данных

5. **Redis ↔ все сервисы** - кэширование и сессии

### **Интеграционный сценарий:**

1. **Пользователь пишет в Telegram-бот** --> n8n webhook

2. **n8n анализирует сообщение** --> поиск по Qdrant

3. **Найденная информация** --> обогащение через Directus API

4. **Бизнес-логика** --> запрос к PostgreSQL

5. **Ответ кэшируется** --> Redis

6. **Пользователь получает ответ** --> через Telegram Bot API

## 03\.03.04 - Мониторинг приложений

**Мониторинг и логирование:**

-  **Dozzle:** Real-time просмотр Docker логов (logs2.tapbot.kz)

-  **Portainer:** Управление контейнерами (portainer2.tapbot.kz)

-  **Netdata:** Real-time системный мониторинг (планируется)

-  **Grafana:** Дашборды и визуализация метрик (планируется)

---

**Связанные документы GitHub:**

-  `docs/02-infrastructure/02-01-servers/` - конфигурации и характеристики серверов

-  `docs/04-network-architecture/04-01-domains/` - доменная структура и DNS

-  `docs/05-security/` - руководства по безопасности серверов

-  `docs/06-operations/` - операционные процедуры и мониторинг

**Важное примечание:** Данный документ является центральной архитектурной документацией. Для получения детальной информации о конфигурациях, безопасности или операционных процедурах используйте соответствующие специализированные документы в структуре GitHub.