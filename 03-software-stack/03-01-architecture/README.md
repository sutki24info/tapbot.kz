---
title: 03.01 - Архитектура
---

**Последнее обновление:** 10 июля 2025

## 03\.01.01 - Docker контейнеризация

### **Принцип контейнеризации:**

-  **Все сервисы в Docker контейнерах** для стандартизации deployment

-  **Docker Compose** для оркестрации многоконтейнерных приложений

-  **Именованные volumes** для персистентного хранения данных

-  **Изолированные сети** для безопасности (traefik-network, database-network)

### **Преимущества архитектуры:**

-  Стандартизация процессов развертывания

-  Простота backup (volumes) и миграции между серверами

-  Изоляция сервисов друг от друга

-  Готовность к горизонтальному масштабированию

## 03\.01.02 - Принципы разделения по серверам

```
Первый сервер (93.189.229.59) - "Frontend & Automation Hub"
├── n8n (workflow automation)          
├── Redis (кэширование, очереди)       
├── Traefik (reverse proxy + SSL)      
├── Portainer (Docker UI)              
├── Основной сайт (tapbot.kz)
├── Netdata (real-time мониторинг)
├── Grafana (дашборды)
└── Webmin (системное управление)

Второй сервер (178.236.17.186) - "Database & Content Hub"
├── PostgreSQL (реляционные данные)
├── Directus (headless CMS/API)
├── Qdrant (векторный поиск)
├── PGAdmin (управление БД)
├── Redis Commander (управление Redis)
├── Dozzle (Docker логи) ✅ АКТИВЕН С BASICAUTH
├── Portainer (Docker UI) ✅ АКТИВЕН
├── Traefik Dashboard ✅ АКТИВЕН С BASICAUTH
└── Webmin (системное управление) ✅ УСТАНОВЛЕН
```

### **Обоснование разделения:**

-  **Изоляция критических данных** от публичных API

-  **Независимое масштабирование** компонентов

-  **Упрощение backup стратегии** - данные на одном сервере

-  **Распределение нагрузки** между серверами

## 03\.01.03 - Сетевая архитектура

### **DNS и управление доменами:**

-  **Централизованное DNS управление:** Все записи через ps.kz (решение июль 2025)

-  **NS серверы:** ns1.ps.kz, ns2.ps.kz, ns3.ps.kz

-  **Автоматические SSL сертификаты** через Let's Encrypt

### **Docker сети:**

-  **traefik-network:** Внешний трафик и SSL терминация

-  **database-network:** Изолированная сеть для баз данных (internal)

-  **Межсерверное взаимодействие:** API calls через HTTPS

## 03\.01.04 - Бизнес-контекст

**Проект tapbot.kz:** Стартап-платформа для автоматизации бизнес-процессов через Telegram-ботов с искусственным интеллектом.

**Основные направления:**

-  Междугороднее такси между городами Казахстана

-  Сервис аренды суточных квартир

**Архитектурные принципы:**

-  **Веб-интерфейсы везде** - команда состоит из новичков

-  **Безопасность в глубину** - многоуровневая защита

-  **Экономия ресурсов** - стартап-бюджет требует оптимизации

-  **Готовность к масштабированию** - контейнеризация и микросервисы

---

**Связанные документы GitHub:**

-  `docs/02-infrastructure/02-01-servers/` - конфигурации и характеристики серверов

-  `docs/04-network-architecture/04-01-domains/` - доменная структура и DNS

-  `docs/05-security/` - руководства по безопасности серверов

-  `docs/06-operations/` - операционные процедуры и мониторинг

**Важное примечание:** Данный документ является центральной архитектурной документацией. Для получения детальной информации о конфигурациях, безопасности или операционных процедурах используйте соответствующие специализированные документы в структуре GitHub.