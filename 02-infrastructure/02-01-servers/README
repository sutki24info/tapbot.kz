02.01 - Серверная архитектура
02.01.01 - Первый сервер (93.189.229.59)
Роль в архитектуре: Frontend & Automation Hub
Назначение: Автоматизация workflows и кэширование
Техническая конфигурация:
CPU: 2 ядра Standard 3+ ГГц
RAM: 4GB DDR4
Диск: 10GB NVMe SSD
Сеть: 250 Мбит/с (избыточно)
ОС: Ubuntu 24.04 LTS
Установленное ПО:

✅ Docker 28.2.2 + Docker Compose 2.36.2
✅ Базовые утилиты: curl, wget, git, htop, nano, ufw
⏳ Планируется: n8n stack, Redis, Traefik, Portainer

Планируемые сервисы:
n8n (workflow automation)          - Порт 5678
Redis (кэширование, очереди)       - Порт 6379
Traefik (reverse proxy + SSL)      - Порты 80/443
Portainer (Docker UI)              - Порт 9000
Основной сайт (tapbot.kz)         - Порт 80/443
Netdata (real-time мониторинг)     - Порт 19999
Grafana (дашборды)                 - Порт 3000
Webmin (системное управление)      - Порт 8441
02.01.02 - Второй сервер (178.236.17.186)
Роль в архитектуре: Database & Content Hub
Назначение: Хранение данных и управление контентом
Техническая конфигурация:
CPU: 2 ядра Standard 3+ ГГц
RAM: 4GB DDR4
Диск: 30GB NVMe SSD
Сеть: 150 Мбит/с (достаточно)
ОС: Ubuntu 24.04 LTS
Установленное ПО:

✅ Docker Stack: PostgreSQL 16 + Directus 10.10 + PGAdmin + Traefik
✅ Безопасность: UFW файрвол + fail2ban (4 jail) + SSL сертификаты
✅ Мониторинг: Webmin 2.202 + пользователь monitor
⏳ Планируется: Redis + Qdrant

Активные сервисы:
PostgreSQL (реляционные данные)    - Порт 5432
Directus (headless CMS/API)        - Порт 8055
PGAdmin (управление БД)            - Порт 5050
Dozzle (Docker логи)               - Порт 8080 ✅ ЗАЩИЩЕН BasicAuth
Portainer (Docker UI)             - Порт 9000 ✅ АКТИВЕН
Traefik Dashboard                  - Порт 8080 ✅ ЗАЩИЩЕН BasicAuth
Webmin (системное управление)      - Порт 8442 ✅ УСТАНОВЛЕН
02.01.03 - Провайдер и дата-центр
Провайдер: beget.com (Россия)
Дата-центр: Москва
Юрисдикция: Российская Федерация
Преимущества выбора:

Низкая стоимость для стартапа
Русскоязычная техническая поддержка
Стабильность работы дата-центра
Оплата в рублях (экономия на валютных операциях)

Риски и митигация:

Геополитические риски → План миграции на западные провайдеры при росте
Валютные колебания → Фиксированная рублевая оплата защищает от них

02.01.04 - Сетевая топология
Internet
    ↓
┌─────────────────────────────────────┐
│        DNS: ps.kz                   │
│    *.tapbot.kz → IP серверов        │
└─────────────────────────────────────┘
    ↓                    ↓
┌──────────────────┐  ┌──────────────────┐
│ Первый сервер    │  │ Второй сервер    │
│ 93.189.229.59    │  │ 178.236.17.186   │
│                  │  │                  │
│ n8n workflows ←──┼──→ PostgreSQL       │
│ Redis cache   ←──┼──→ Directus API     │
│ Traefik proxy    │  │ Qdrant vectors   │
└──────────────────┘  └──────────────────┘
